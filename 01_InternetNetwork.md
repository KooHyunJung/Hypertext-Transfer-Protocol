## 01 인터넷 네트워크 ##
- [01 인터넷 통신](#1)
- [02 IP(인터넷 프로토콜)](#2)
- [03 TCP, UDP](#3)
- [04 PORT](#4)  
- [05 DNS](#5)
- [정리](#6)

---

> 클라이언트와 서버 사이에 인터넷이 있다. 복잡한 인터넷 망에서 메시지를 넘겨야 하는데 어떤 규칙으로 넘어갈까? 

<a name="1"></a>
## 01 인터넷 통신 ##
### 인터넷은 어떻게 동작하는가? ###
- 인터넷은 웹의 핵심적인 기술이다. 인테넷의 가장 기본적인 것은, 컴퓨터들이 서로 통신 가능한 네트워크 라는 것이다.
- https://developer.mozilla.org/ko/docs/Learn/Common_questions/How_does_the_Internet_work


<a name="2"></a>
## 02 IP(인터넷 프로토콜) ##
- IP Address: IP 주소는 인터넷 프로토콜을 사용하는 네트워크에 연결된 모든 장치에 할당된 번호다. "IP address"는 IPv6이 보다 광범위하게 배포될 때까지 여전히 32비트 IPv4 주소를 가리킨다.
- IP 역할 : 
    - 지정한 IP(IP Address) 주소에 데이터 전달
    - 패킷(Packet)이라는 통신 단위로 데이터 전달
        - 전송 데이터를 전달할 때 [출발지 IP, 목적지 IP, 기타..] 를 넣고 IP 패킷을 인터넷에 던지는 것이다. 노드를 타고 타고 가다가 목적지 IP에 도달하는 것이다.
- IP 한계 :
    - 비연결성
        - 패킷을 받을 대상이 없거나 서비스 불능 상태여도 패킷 전송된다.
    - 비신뢰성
        - 중간에 패킷이 사라진다면?
        - 패킷이 순서대로 안 온다면?
            - 대상 서버가 패킷을 받을 수 있는 상태인지 모르니 노드를 통해 열심히 패킷을 보내도 최종적으로 서버는 패킷을 받을 수 없다. 또한 중간에 노드가 문제가 생기면  패킷이 유실 되기도 한다. 메시지가 1500바이트가 넘으면 데이터가 너무 크기 때문에 이를 끊어서 보낸다. 쪼개진 1번, 2번 데이터가 다른 노드를 타다가 최종적으로 서버에 도착할 때 2번이 먼저 도착하고 1번이 도착해서 내용이 완전 달라질 수 있다. 이러한 IP의 한계를 해결해 주는 것이 바로 TCP 프로토콜이다.
    - 프로그램 구분
        - 같은 IP를 사용하는 서버에서 통신하는 애플리케이션 둘 이상이면?
        - 인터넷 게임을 하면서 음악을 들을 때 IP 한 개로 이런한 작업을 어떻게 진행할 수 있는가?

<a name="3"></a>
## 03 TCP, UDP ##
- 인터넷 프로토콜 스택의 4계층
    - 애플리케이션 
        - (1)HTTP, FTP | 웹 브라우저 네트워크 게임 채팅 프로그램 [SOCKET 라이브러리]
    - OS
        - (2)전송 계층 - TCP, UDP
        - (3)인터넷 계층 - IP
    - (4)네트워크 인터페이스 계층
        - LAN 드라이버, LAN 장비
따라서 여기서는 IP를 올려서 이를 보안해 준다고 이해하면 된다. 

### TCP ####
- TCP 개념 : TCP (전송 제어 프로토콜)은 두 개의 호스트를 연결하고 데이터 스트림을 교환하게 해주는 중요한 네트워크 프로토콜이다. TCP는 데이터와 패킷이 보내진 순서대로 전달하는 것을 보장해준다.
- TCP/IP 패킷 정보
    - 브라우저에서 데이터를 전송하면 먼저 TCP 세크먼트 [출발지 PORT, 목적지 PORT 전송 제어, 순서, 검증 정보...] 들어가 IP만으로 해결이 안 됐던 문제가 해결된다.
- TCP 특징 :
    - 연결지향 - TCP 3-way-handshake (가상연결)
        - 3-way-handshake
            1) SYN (SYN : 접속 요청)
            2) SYN + ACK (ACK : 요청 수락)
            3) ACK 
            4) 연결이 되고나면 데이터 전송이 가능해 진다.
            - 요즘에는 최적화가 되어 3단계 때 같이 데이터를 전송한다
            - 하지만 이는 논리적인 연결일 뿐이다, 나를 위한 전용 LAN선이 연결된 것이 아니다! 개념적인 연결!
    - 데이터 전달 보증
    - 순서 보장
        - 데이터가 너무 커서 쪼개서 보냈다면 도착했을 때, 순서가 다르게 도착하기도 한다. 이 때 잘못 패킷부터 다시 보내라 한다.
        내부적으로 최적화 할 수도 있겠지만 기본원리는 위와 같다는 것이다.
    - 신뢰할 수 있는 프로토콜
    - 현재는 대부분의 애플리케이션에서 TCP 사용

### UDP ###
- UDP 개념 : UDP (User Datagram Protocol)는 보안과 신뢰성보다 전송 속도와 효율성이 더 중요한 경우 데이터를 전송하기 위해 IP 와 함께 사용되는 프로토콜이다.
- UDP 특징 : 
    - 하얀도화지에 비유(기능이 거이 없음)
    - 연결지향 - 3-way-handshak X
    - 데이터 전달 보증 X 
    - 순서 보장 X
    - 데이터 전달 및 순서가 보장되지 않지만, 단순하고 빠르다
    - 정리 : 
        - IP와 거이 같다
        - PORT + 체크섬 정도만 추가
        - 애플리케이션 추가 작업 필요
    - 장점 : 
        - 속도가 TCP 보다 더 빠르다
        - 아무것도 없기 때문에 최적화 가능


<a name="4"></a>
## 04 PORT ##
### PORT ###
- 배가 도착하는 항구의 뜻을 가지고 있다.
- 한 번에 둘 이상의 연결을 해야 한다면?
    - 게임도 하고 음악도 듣고 채팅도 하고...
        - -> IP는 목적지 서버를 찾는 거고 서버 안에서 애플리케이션을 찾는 것이 PORT인 것. 즉 같은 IP 에서 프로세스를 구분하는 것이 PORT.
- PORT 특징 :
    - 0 ~ 65535 할당 가능
    - 0 ~ 1023: 잘 알려진 포트, 사용하지 않는 것이 좋음
        - FTP - 20, 21
        - TELNET - 23
        - HTTP - 80
        - HTTPS - 443


<a name="5"></a>
## 05 DNS ##
### DNS ###
- IP는 기억하기 힘들다.. (200.200.200.1) 
- IP는 변경될 수 있다...
    - -> 이런한 점을 해결해 주는 것이 DNS
- DNS(Domain Name System)
    - 전화번호부 역할을 한다
    - 도메일 명을 IP 주소로 변환
        - DNS 서버에 IP 주소를 등록할 수 있다
        - 따라서 나중에 도메인 IP가 변경 될지라도 위의 2가지 문제가 해결되는 것이다.

<a name="6"></a>
## 정리 ##
- IP : 복잡한 인터넷망에서 데이터를 전송하기 위해 IP가 필요하다
- TCP, UDP : IP의 문제를 TCP가 해결해 준다
- PORT : IP가 아파트라고 본다면 PORT는 동, 호 정보
- DNS : IP는 기억하기 힘들고 변하기도 하는데 도메인 명을 등록해서 사용할 수 있도록 도와준다


---
### 관련 내용 참조 ###
https://developer.mozilla.org/en-US/

이미지 참고 하기 : https://intrepidgeeks.com/tutorial/http-web-basics
